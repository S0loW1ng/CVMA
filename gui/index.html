<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Form</title>
    <link rel="stylesheet" href="styles.css">
    
</head>

<body>
    
    <div class="form-container">
        
        <form id="myForm">
            <label for="emails">Emails (separate with commas):</label>
            <input type="email" id="emails" name="emails_gui" required aria-label="Emails" multiple placeholder="email1@example.com, email2@example.com"><br>

            <label for="username">Usernames:</label>
            <input type="text" id="username" name="username_gui" aria-label="Username" multiple placeholder="username1, username2"><br>

            <label for="firstname">First Name:</label>
            <input type="text" id="firstname" name="firstname" aria-label="First Name"><br>

            <label for="lastname">Last Name:</label>
            <input type="text" id="lastname" name="lastname" aria-label="Last Name"><br>

            <button type="submit"></button>
        </form>
    </div>

    <script>
        // Function to handle form submission
        document.getElementById('myForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission

            // Get the form data
            const formData = new FormData(event.target);

            // Create an object to store the form data
            const formObject = {};

            // Populate the object with form data
            formData.forEach((value, key) => {
                formObject[key] = value;
            });

            // Convert the form object to JSON format
            const jsonData = JSON.stringify(formObject, null, 2);

            // Create a Blob object with the JSON data
            const blob = new Blob([jsonData], { type: 'application/json' });

            // Create an anchor element to trigger the download
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'form_data.json';  // File name for the downloaded file
            a.click();  // Trigger the download
        });
    </script>
</body>

</html>
